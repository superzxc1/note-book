<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>命令行笔记 | Superzxc 笔记本</title>
    <meta name="description" content="工作和学习过程中的笔记，汇总成册方便查阅">
    
    
    <link rel="preload" href="/assets/css/0.styles.617c345f.css" as="style"><link rel="preload" href="/assets/js/app.2240575e.js" as="script"><link rel="preload" href="/assets/js/2.6df46746.js" as="script"><link rel="preload" href="/assets/js/3.050ab92f.js" as="script"><link rel="prefetch" href="/assets/js/10.0e021d3b.js"><link rel="prefetch" href="/assets/js/11.71dd1047.js"><link rel="prefetch" href="/assets/js/12.e30e0997.js"><link rel="prefetch" href="/assets/js/13.fd5c98fe.js"><link rel="prefetch" href="/assets/js/14.3621d6e7.js"><link rel="prefetch" href="/assets/js/15.c6e20ff4.js"><link rel="prefetch" href="/assets/js/16.be7cdf03.js"><link rel="prefetch" href="/assets/js/17.e02c45e7.js"><link rel="prefetch" href="/assets/js/18.701f4c03.js"><link rel="prefetch" href="/assets/js/19.ff30b91a.js"><link rel="prefetch" href="/assets/js/20.fc12c542.js"><link rel="prefetch" href="/assets/js/21.351104de.js"><link rel="prefetch" href="/assets/js/22.bd8b2d84.js"><link rel="prefetch" href="/assets/js/23.897f079a.js"><link rel="prefetch" href="/assets/js/24.218c2d3f.js"><link rel="prefetch" href="/assets/js/25.c408fe96.js"><link rel="prefetch" href="/assets/js/26.182941d0.js"><link rel="prefetch" href="/assets/js/27.94f7dd46.js"><link rel="prefetch" href="/assets/js/4.4abfff54.js"><link rel="prefetch" href="/assets/js/5.044d1816.js"><link rel="prefetch" href="/assets/js/6.c1aeb369.js"><link rel="prefetch" href="/assets/js/7.0b75c360.js"><link rel="prefetch" href="/assets/js/8.b1fd223f.js"><link rel="prefetch" href="/assets/js/9.5af932f4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.617c345f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Superzxc 笔记本</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/linux/" class="nav-link router-link-active">linxu 笔记</a></div><div class="nav-item"><a href="/java/" class="nav-link">java 笔记</a></div><div class="nav-item"><a href="/blog/" class="nav-link">博客文章</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/linux/" class="nav-link router-link-active">linxu 笔记</a></div><div class="nav-item"><a href="/java/" class="nav-link">java 笔记</a></div><div class="nav-item"><a href="/blog/" class="nav-link">博客文章</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>linux 笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/linux/centos_install.html" class="sidebar-link">安装centos</a></li><li><a href="/linux/linux_common.html" class="sidebar-link">常用</a></li><li><a href="/linux/home_server.html" class="sidebar-link">家用服务器</a></li><li><a href="/linux/centos_apps.html" class="sidebar-link">centos应用安装与使用</a></li><li><a href="/linux/cmd_art.html" class="active sidebar-link">命令行笔记</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/linux/cmd_art.html#ctrl-r" class="sidebar-link">ctrl-r</a></li><li class="sidebar-sub-header"><a href="/linux/cmd_art.html#history" class="sidebar-link">history</a></li><li class="sidebar-sub-header"><a href="/linux/cmd_art.html#alias" class="sidebar-link">alias</a></li><li class="sidebar-sub-header"><a href="/linux/cmd_art.html#mv-foo-bar-baz-quux-txt" class="sidebar-link">mv foo-bar-{baz,quux}.txt</a></li><li class="sidebar-sub-header"><a href="/linux/cmd_art.html#python-m-http-server-7777" class="sidebar-link">python -m http.server 7777</a></li><li class="sidebar-sub-header"><a href="/linux/cmd_art.html#curl-v2en-co-cool" class="sidebar-link">curl v2en.co/cool</a></li><li class="sidebar-sub-header"><a href="/linux/cmd_art.html#ssh" class="sidebar-link">ssh</a></li><li class="sidebar-sub-header"><a href="/linux/cmd_art.html#you-get" class="sidebar-link">you-get</a></li><li class="sidebar-sub-header"><a href="/linux/cmd_art.html#ffmpeg" class="sidebar-link">ffmpeg</a></li><li class="sidebar-sub-header"><a href="/linux/cmd_art.html#xargs" class="sidebar-link">xargs</a></li><li class="sidebar-sub-header"><a href="/linux/cmd_art.html#frp" class="sidebar-link">frp</a></li><li class="sidebar-sub-header"><a href="/linux/cmd_art.html#fzf" class="sidebar-link">fzf</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="命令行笔记"><a href="#命令行笔记" aria-hidden="true" class="header-anchor">#</a> 命令行笔记</h1> <h2 id="ctrl-r"><a href="#ctrl-r" aria-hidden="true" class="header-anchor">#</a> <code>ctrl-r</code></h2> <p>在 Bash 中，使用 <strong>ctrl-r</strong> 搜索命令行历史记录（按下按键之后，输入关键字便可以搜索，重复按下 <strong>ctrl-r</strong> 会向后查找匹配项，按下 <strong>Enter</strong> 键会执行当前匹配的命令，而按下右方向键会将匹配项放入当前行中，不会直接执行，以便做出修改）。</p> <h2 id="history"><a href="#history" aria-hidden="true" class="header-anchor">#</a> <code>history</code></h2> <p>键入 <code>history</code> 查看命令行历史记录，再用 <code>!n</code>（<code>n</code> 是命令编号）就可以再次执行。其中有许多缩写，最有用的大概就是 <code>!$</code>， 它用于指代上次键入的参数，而 <code>!!</code> 可以指代上次键入的命令了（参考 man 页面中的“HISTORY EXPANSION”）。不过这些功能，你也可以通过快捷键 <strong>ctrl-r</strong> 和 <strong>alt-.</strong> 来实现。</p> <h2 id="alias"><a href="#alias" aria-hidden="true" class="header-anchor">#</a> <code>alias</code></h2> <p>使用 <code>alias</code> 来创建常用命令的快捷形式。例如：<code>alias ll='ls -latr'</code> 创建了一个新的命令别名 <code>ll</code>。</p> <h2 id="mv-foo-bar-baz-quux-txt"><a href="#mv-foo-bar-baz-quux-txt" aria-hidden="true" class="header-anchor">#</a> <code>mv foo-bar-{baz,quux}.txt</code></h2> <p>变更文件名 将 &quot;foo-bar-baz.txt&quot; 变更为 &quot;foo-bar-quux.txt&quot;</p> <h2 id="python-m-http-server-7777"><a href="#python-m-http-server-7777" aria-hidden="true" class="header-anchor">#</a> <code>python -m http.server 7777</code></h2> <p>将 web 服务器上当前目录下所有的文件（以及子目录）暴露给你所处网络的所有用户。<br> <code>python -m SimpleHTTPServer 7777</code> （使用端口 7777 和 Python 2）<br> <code>python -m http.server 7777</code> （使用端口 7777 和 Python 3）。</p> <h2 id="curl-v2en-co-cool"><a href="#curl-v2en-co-cool" aria-hidden="true" class="header-anchor">#</a> <code>curl v2en.co/cool</code></h2> <p>命令行查单词,<a href="https://www.zhihu.com/question/41115077/answer/724683831" target="_blank" rel="noopener noreferrer">参考<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br> <img src="/assets/img/2019-08-28-21-52-56.571fd43a.png" alt=""></p> <h2 id="ssh"><a href="#ssh" aria-hidden="true" class="header-anchor">#</a> ssh</h2> <h3 id="参考"><a href="#参考" aria-hidden="true" class="header-anchor">#</a> 参考</h3> <ul><li><a href="http://www.ruanyifeng.com/blog/2011/12/ssh_remote_login.html" target="_blank" rel="noopener noreferrer">SSH原理与运用<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://www.ruanyifeng.com/blog/2011/12/ssh_port_forwarding.html" target="_blank" rel="noopener noreferrer">端口转发<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="you-get"><a href="#you-get" aria-hidden="true" class="header-anchor">#</a> <a href="https://github.com/soimort/you-get" target="_blank" rel="noopener noreferrer">you-get<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2> <p>You-Get is a tiny command-line utility to download media contents (videos, audios, images) from the Web, in case there is no other handy way to do it.<br>
支持几乎所有视频网站，包括优酷、土豆、爱奇艺等
<img src="/assets/img/2019-08-28-22-26-38.8f34ddb2.png" alt=""></p> <h3 id="注意"><a href="#注意" aria-hidden="true" class="header-anchor">#</a> 注意</h3> <p>需要安装依赖 <a href="#ffmpeg">ffmpeg</a>,<a href="https://www.jianshu.com/p/2b98e0f87720" target="_blank" rel="noopener noreferrer">参考<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="ffmpeg"><a href="#ffmpeg" aria-hidden="true" class="header-anchor">#</a> <a href="https://github.com/FFmpeg/FFmpeg" target="_blank" rel="noopener noreferrer">ffmpeg<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2> <p>FFmpeg是处理多媒体内容（如音频，视频，字幕和相关元数据）的库和工具的集合。</p> <h3 id="用法"><a href="#用法" aria-hidden="true" class="header-anchor">#</a> 用法</h3> <ul><li>MP4 to MP3</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>ffmpeg -i *.mp4 *.mp3
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>MP4压缩</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>ffmpeg -i 'test.mp4' -y -b:a 2000k -s 1800x1080 'test.min.mp4'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>MP4拼接</li></ul> <blockquote><p>先将 mp4 转化为同样编码形式的 ts 流，因为 ts流是可以 concate 的，先把 mp4 封装成 ts ，然后 concate ts 流， 最后再把 ts 流转化为 mp4。</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>ffmpeg -i 1.mp4 -vcodec copy -acodec copy -vbsf h264_mp4toannexb 1.ts
ffmpeg -i 2.mp4 -vcodec copy -acodec copy -vbsf h264_mp4toannexb 2.ts
ffmpeg -i &quot;concat:1.ts|2.ts&quot; -acodec copy -vcodec copy -absf aac_adtstoasc output.mp4
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="xargs"><a href="#xargs" aria-hidden="true" class="header-anchor">#</a> xargs</h2> <h3 id="示例"><a href="#示例" aria-hidden="true" class="header-anchor">#</a> 示例</h3> <ul><li>批量转换mp4 to mp3</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">ls</span> *.mp4 <span class="token operator">|</span> <span class="token function">xargs</span> --max-procs <span class="token number">0</span> -I <span class="token function">file</span> <span class="token function">sh</span> -c <span class="token string">'ffmpeg -i file ./mp3/file.mp3'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="参考-2"><a href="#参考-2" aria-hidden="true" class="header-anchor">#</a> 参考</h3> <ul><li><a href="http://www.ruanyifeng.com/blog/2019/08/xargs-tutorial.html" target="_blank" rel="noopener noreferrer">xargs 命令教程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="frp"><a href="#frp" aria-hidden="true" class="header-anchor">#</a> <a href="https://github.com/fatedier/frp" target="_blank" rel="noopener noreferrer">frp<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2> <p>可用于内网穿透的反向代理</p> <h2 id="fzf"><a href="#fzf" aria-hidden="true" class="header-anchor">#</a> <a href="https://github.com/junegunn/fzf" target="_blank" rel="noopener noreferrer">fzf<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2> <p>命令行模糊查询工具</p> <h3 id="tldr"><a href="#tldr" aria-hidden="true" class="header-anchor">#</a> <a href="https://github.com/tldr-pages/tldr" target="_blank" rel="noopener noreferrer">tldr<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <p>A collection of simplified and community-driven man pages.
<img src="/assets/img/2019-08-28-22-37-50.0065c663.png" alt=""></p> <h1 id="参考-3"><a href="#参考-3" aria-hidden="true" class="header-anchor">#</a> 参考</h1> <ul><li><a href="https://github.com/jlevy/the-art-of-command-line/blob/master/README-zh.md" target="_blank" rel="noopener noreferrer">命令行的艺术<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/linux/centos_apps.html" class="prev">
          centos应用安装与使用
        </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2240575e.js" defer></script><script src="/assets/js/2.6df46746.js" defer></script><script src="/assets/js/3.050ab92f.js" defer></script>
  </body>
</html>
