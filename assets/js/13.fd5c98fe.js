(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{278:function(t,r,e){"use strict";e.r(r);var a=e(38),s=Object(a.a)({},function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"docker-学习笔记"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-学习笔记","aria-hidden":"true"}},[t._v("#")]),t._v(" docker 学习笔记")]),t._v(" "),e("h2",{attrs:{id:"常用命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常用命令","aria-hidden":"true"}},[t._v("#")]),t._v(" 常用命令")]),t._v(" "),e("h3",{attrs:{id:"容器过滤"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#容器过滤","aria-hidden":"true"}},[t._v("#")]),t._v(" 容器过滤")]),t._v(" "),e("ul",[e("li",[t._v("根据容器"),e("code",[t._v("name")]),t._v("过滤，并返回容器ID：")])]),t._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("docker "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" -q -f "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'awesome*'")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("h2",{attrs:{id:"dockerfile"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dockerfile","aria-hidden":"true"}},[t._v("#")]),t._v(" dockerfile")]),t._v(" "),e("h3",{attrs:{id:"组成部分"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#组成部分","aria-hidden":"true"}},[t._v("#")]),t._v(" 组成部分")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("部分")]),t._v(" "),e("th",[t._v("命令")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("基础镜像信息")]),t._v(" "),e("td",[t._v("FROM")])]),t._v(" "),e("tr",[e("td",[t._v("维护者信息")]),t._v(" "),e("td",[t._v("MAINTAINER")])]),t._v(" "),e("tr",[e("td",[t._v("镜像操作指令")]),t._v(" "),e("td",[t._v("RUN、COPY、ADD、EXPOSE、WORKDIR、ONBUILD、USER、VOLUME等")])]),t._v(" "),e("tr",[e("td",[t._v("容器启动时执行指定")]),t._v(" "),e("td",[t._v("CMD、ENTRYPOINT")])])])]),t._v(" "),e("h3",{attrs:{id:"参考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考","aria-hidden":"true"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://www.jianshu.com/p/10ed530766af",target:"_blank",rel:"noopener noreferrer"}},[t._v("学习Docker之Dockerfile的命令"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 问题")]),t._v(" "),e("h3",{attrs:{id:"x509-certificate-signed-by-unknown-authority"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#x509-certificate-signed-by-unknown-authority","aria-hidden":"true"}},[t._v("#")]),t._v(" x509: certificate signed by unknown authority")]),t._v(" "),e("ol",[e("li",[t._v('导出证书. 用 https 打开 registry 并将证书导出: https://registry.docker.xxx.com. 我用的火狐, 提示证书不受信任, 点击"高级","添加例外","查看", 在"详情"标签页, 有一个"导出"按钮. 导出一个后缀名为crt或者cer的证书.')]),t._v(" "),e("li",[t._v("将证书添加到docker.\n"),e("ul",[e("li",[t._v("首先在"),e("code",[t._v("/etc/docker/certs.d/")]),t._v("目录下创建registry.docker.xxx.com的目录.")]),t._v(" "),e("li",[t._v("然后将证书拷贝到"),e("code",[t._v("registry.docker.xxx.com")]),t._v("目录下. 并且将证书重命名为ca.crt或者ca.cer. 注意, 后缀名不重要, 名字一定要是ca.")]),t._v(" "),e("li",[t._v("重启docker即可. "),e("code",[t._v("systemctl restart docker.service")])])])])]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"http://www.voidcn.com/article/p-rlsdwrdh-bot.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"学习资料"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#学习资料","aria-hidden":"true"}},[t._v("#")]),t._v(" 学习资料")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://docker_practice.gitee.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Docker — 从入门到实践"),e("OutboundLink")],1)])])])},[],!1,null,null,null);r.default=s.exports}}]);